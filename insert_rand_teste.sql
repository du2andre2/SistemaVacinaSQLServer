/*
INSERT INTO TB_ADS_CID (NOM_CID)
    VALUES    ('Hortolândia'),
            ('Campinas'),
            ('Sumaré')
SELECT * FROM TB_ADS_CID

INSERT INTO TB_ADS_BAIRRO (COD_CID, NOM_BAIRRO)
    VALUES    (1, 'Jd. Amanda I'),
            (2, 'Taquaral'),
            (3, 'Matão')
SELECT * FROM TB_ADS_BAIRRO

INSERT INTO TB_ADS_RUA (COD_BAIRRO, NOM_RUA)
    VALUES    (1, 'R. Duarte da Costa'),
            (2, 'R. Antônio Bonavita'),
            (3, 'R. São Cosme')
SELECT * FROM TB_ADS_RUA

INSERT INTO TB_ADS_LOC (COD_CEP, COD_RUA, NUM)
    VALUES    ('13188021', 1, 154),
            ('13076570', 2, 24),
            ('13180290', 3, 37)
SELECT * FROM TB_ADS_LOC

INSERT INTO TB_ADS_EMPS (NOM_EMPS)
    VALUES    ('Sinovac'),
            ('Pfizer'),
            ('AstraZeneca')
SELECT * FROM TB_ADS_EMPS

INSERT INTO TB_ADS_LOTE(COD_EMPS, QTD_VAC)
    VALUES    (1, 500),
            (2, 150),
            (3, 272)
SELECT * FROM TB_ADS_LOTE

UPDATE TB_ADS_LOTE
	SET QTD_VAC = 150


INSERT INTO TB_ADS_USER(COD_CPF,COD_RG,NOM_USER,IDADE,COD_CID,IND_FUNC)
    VALUES	('43568720587','739562547', 'Eduardo André',21,2,'N'),
			('23455245456','425646567', 'Guastavo Moura',32,1,'S'),
			('34245645646','341414315', 'Lucas Rodrigues',19,1,'N'),
			('45252563565','531575647', 'João Victor',28,3,'N'),
			('87537676787','546378769', 'Paulo Gomes',45,2,'S'),
			('42356437668','624675374', 'Edgar Maria',37,3,'N');
SELECT * FROM TB_ADS_USER

INSERT INTO  TB_ADS_CRM(COD_CRM,COD_CPF)
	VALUES	('245476','23455245456'),
			('756275','87537676787')
SELECT * FROM TB_ADS_CRM

DELETE FROM TB_ADS_AGDM
*/

DECLARE @COD_CPF_USER_AUX VARCHAR(11) = '';
DECLARE @COD_CPF_VOL_AUX VARCHAR(11) = '';
DECLARE @COD_CEP_AUX VARCHAR(8) = '';
DECLARE @COD_LOTE_AUX INT = 0;
DECLARE @DAT_AGDM_AUX DATETIME = GETDATE();

DECLARE @i INT = 0;
WHILE @i<500
	BEGIN
		SET @COD_CPF_USER_AUX  = (SELECT TOP(1) COD_CPF FROM TB_ADS_USER ORDER BY NEWID() );
		SET @COD_CPF_VOL_AUX = (SELECT TOP(1) COD_CPF FROM TB_ADS_USER WHERE IND_FUNC = 'S' ORDER BY NEWID() );
		SET @COD_CEP_AUX = (SELECT TOP(1)  COD_CEP FROM TB_ADS_LOC ORDER BY NEWID());
		SET @COD_LOTE_AUX = (SELECT TOP(1) COD_LOTE FROM TB_ADS_LOTE ORDER BY NEWID() );
		SET @DAT_AGDM_AUX = DATEADD(MINUTE,FLOOR(RAND()*(30-(-30)+1))+(-30),GETDATE());
		EXEC usp_ads_inter_insere_agendamentos @COD_CPF_USER =@COD_CPF_USER_AUX,@COD_CPF_VOL = @COD_CPF_VOL_AUX ,@COD_CEP = @COD_CEP_AUX,@COD_LOTE = @COD_LOTE_AUX, @DAT_AGDM = @DAT_AGDM_AUX,@TXT_EXT = ''
	
		SET @i = @i + 1;
	END
SELECT * FROM TB_ADS_AGDM
